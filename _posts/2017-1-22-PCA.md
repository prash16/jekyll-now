---
layout: post
title: Principal component analysis
---


### Principal component analysis can be your answer


I've been involved quite a few statistical projects in past. Where either the dimension of explanatory variables was a problem or multicollinearity was a big issue.  I want  share my experience  by going through  a simple example how PCA (Principal component analysis) can help to achieve both those goals.

##### PCA Brief

Helps to reduce the no of variables, by not losing much of information. Large complex data can be smaller and understandable data set.  
Also used when there are hig amount of correlation between explanatory variables. It removes the multicollinearity . There has been a lot of research done in this field.  
Coorelation matrix or covariance matrix. Software calculates eigen vectors. Scree and variance plots can be created.  I am going to expalon further in what conditions where I will use PCA.
I will discuss this using R and how it can be used effectively :

#### Running through example

The data set I'm using is in my analysis is **corn** data set. Iowa state **[Link to data](http://www.agronext.iastate.edu/)** is one of the leading corn producer. To evaluate the overall quality of soil, **23 explanatory variables** was used. Varibles like slope of land, water infiltration  to name a few.

#### Snapshot of the correlation matrix

![alt image](../images/corr.jpg)

If you see above there seems to be high multicollinearity between the variables. It is very high, becauses the I used *Ridge Regression* because of high VIF, but multicollinearity was still a problem.


```
prn<-read.csv('corn.csv')

## Checking multicollinearity

ggpairs(data=prn, # data.frame with variables
        columns=c(2,3,4,5,6,7), # columns to plot, default to all.
        title="Data")+ggsave("corr.jpg")        
}
```

#### PCA

In this case, I used PCA for dimension reduction and to remove multicollinearity.

## Codes

Splitting explanatory variables and response variables

```
prn_expl <- (prn[, 2:24])

prn_response <- prn[,1]

```

##### Explanatory variables

![alt image](../images/expv.JPG)

Response variable  

##### Running PCA

```
prn.pca <- prcomp(na.omit(prn_expl),scale=TRUE)

summary(prn.pca)

```
![alt image](../images/pca.JPG)

## Scree Plot 

![alt image](../images/scree.JPG)
